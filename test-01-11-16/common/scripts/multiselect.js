/*
Unpublished work.
Copyright (c) 2014-2015 by Teradata Corporation. All rights reserved.
TERADATA CORPORATION CONFIDENTIAL AND TRADE SECRET
*/

(function(C,D){C.Terradata=C.Terradata||{};var E=C.Terradata,B=C.Class;E.Multiselect=B.extend({initialize:function(F){this.$el=F.id?$(F.id):$("<div>");this.id=F.id;var G={includeSelectAllOption:true,enableFiltering:true,enableCaseInsensitiveFiltering:true,buttonWidth:F.width,maxHeight:"200",onChange:function(H){var I=[];_.each(this.getSelected(),function(J){I.push($(J).val())});if(_.isBoolean(H)){F.onChange(I,H)}else{F.onChange(I)}}};if(F.name){G.buttonText=function(){return A(F.name)}}this.$el.multiselect(G);this.$el.multiselect("dataprovider",F.data);this._values=_.map(F.data,function(H){return H.value});this._onChange=F.onChange},options:function(F){$("option",this.$el).each(function(){var G=$(this).val();F(G)})},getSelected:function(){var F=$("option",this.$el).filter(":selected").map(function(){return $(this).val()});return $.makeArray(F)},getUnInitialize:function(){var F=$("option",this.$el).map(function(){return $(this).val()});return $.makeArray(F)},select:function(G,F){if(!_.isArray(G)){G=[G]}if(F){this.deselectAll()}_.each(G,function(H){this.$el.multiselect("select",H)},this);this._onChange(G,F)},selectAll:function(G){this.$el.multiselect("selectall",true);this.$el.multiselect("updateButtonText");var F=this;setTimeout(function(){F.$el.multiselect("updateSelectAll")},10);if(G){this._onChange(this._values)}},deselectAll:function(){this.$el.multiselect("clearSelection")},update:function(F){this.$el.multiselect("dataprovider",F)}});var A=function(F){return'<span class="text">'+F+'</span><span class="arrow">  <b></b></span>'}})(window);
